-- MysticOS Notifications Library

local tNotif = {}

-- API

function add(title, msg)
	local id = #tNotif + 1
	tNotif[id] = {
		id = id,
		title = title,
		msg = msg
	}
	events.dispatch("new_notification", id, title, msg)
	return id
end

function remove(id)
	if tNotif[id] then
		tNotif[id] = nil
		events.dispatch("notification_removed", id)
	end
end

function pending()
	return not table.empty(tNotif)
end

function get(id)
	return table.copy(tNotif[id])
end

function list()
	local l = {}
	for id, notif in pairs(tNotif) do
		l[#l + 1] = {
			id = id,
			title = notif.title,
			msg = notif.msg
		}
	end
	return l
end